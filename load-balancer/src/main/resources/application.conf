loadbalancer {
    server {
        host = "0.0.0.0"
        port = 8080
    }

    request {
        timeout = "5s"
        retries = 2
        retryDelay = "1s"
    }

    healthCheck {
        enabled = true
        interval = "10s"
        timeout = "2s"
        path = "/health"
        unhealthyThreshold = 3
        healthyThreshold = 2
    }

    circuitBreaker {
        failureThreshold = 5
        timeout = "30s"
        halfOpenMaxAttempts = 3
    }

    strategy = "round-robin"

    # Initial nodes configuration
    nodes = [
        {
            id = "node-1"
            host = "localhost"
            port = 9001
            weight = 1
        },
        {
            id = "node-2"
            host = "localhost"
            port = 9002
            weight = 1
        },
        {
            id = "node-3"
            host = "localhost"
            port = 9003
            weight = 1
        }
    ]
}

